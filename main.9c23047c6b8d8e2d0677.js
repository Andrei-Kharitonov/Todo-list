!function(){var t,e={2331:function(t,e,n){"use strict";var o=n(5638);function r(t){if(t.length>=4)return!0}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,n=null,r=[{key:"create",value:function(e){return fetch("https://todo-list-708ef-default-rtdb.europe-west1.firebasedatabase.app/notes.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return e.id=t.name,e})).then(f).then(o(".note").remove()).then(t.renderList)}},{key:"fetch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return t?fetch("https://todo-list-708ef-default-rtdb.europe-west1.firebasedatabase.app/notes.json?auth=".concat(t)).then((function(t){return t.json()})).then((function(t){return t.error?'<p class="error">'.concat(t.error,"</p>"):t?Object.keys(t).map((function(e){return a(a({},t[e]),{},{id:e})})):[]})):Promise.resolve('<p class="error">You don\'t have token</p>')}))},{key:"delNote",value:function(){o(".btn-del-note").on("click",(function(){var t=o(this).parent().attr("id");if(confirm("Delete this note?")){o("#".concat(t)).hide(200);var e=JSON.parse(localStorage.getItem("notes")).filter((function(e){return e.id!==t}));localStorage.setItem("notes",JSON.stringify(e)),fetch("https://todo-list-708ef-default-rtdb.europe-west1.firebasedatabase.app/notes/".concat(t,".json"),{method:"DELETE",headers:{"Content-type":"application/json"}})}}))}},{key:"renderList",value:function(){var t=l(),e=t.length?t.map(p).join(""):'<div class="no-notes">You don\'t have notes</div>',n=o("#list");o(n).prepend(e)}}],n&&u(e.prototype,n),r&&u(e,r),t}();function f(t){var e=l();e.unshift(t),localStorage.setItem("notes",JSON.stringify(e))}function l(){return JSON.parse(localStorage.getItem("notes")||"[]")}function p(t){return'\n  <div class="note" id="'.concat(t.id,'">\n    <p class="note-text">').concat(t.text,'</p>\n    <p class="date">Date: <time>').concat(new Date(t.date).toLocaleString(),'</time></p>\n    <button class="btn btn-del-note btn-outline-danger btn-sm" type="button">Delete note</button>\n  </div>\n  ')}function d(t){"string"!=typeof t&&(localStorage.clear(),t.forEach(f),location.reload())}n(636),n(5574),window.addEventListener("load",s.renderList),o(window).on("load",s.delNote),o("#form_note").on("submit",(function(t){if(t.preventDefault(),r(o("#note_inp").val())){o("#note_btn").prop("disabled",!1);var e={text:o("#note_inp").val(),date:(new Date).toJSON()};s.create(e).then((function(){o("#note_inp").val(""),o("#note_btn").prop("disabled",!0),location.reload()}))}})),o("#auth").on("submit",(function(t){t.preventDefault(),(e=o("#email").val(),n=o("#pwd").val(),fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyD70PfAh2YjIzyKpwZACN2Hi7M5hoHvG_0"),{method:"POST",body:JSON.stringify({email:e,password:n,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return t.idToken}))).then(s.fetch).then(d);var e,n})),o("#sortButton").on("click",(function(){var t=JSON.parse(localStorage.getItem("notes")||"[]"),e=[];t.forEach((function(t){e.unshift(t)})),localStorage.setItem("notes",JSON.stringify(e)),location.reload()})),o("#search").on("input",(function(){$("#search").on("keyup",(function(){var t=$(this).val().toLowerCase();$("#list .note").filter((function(){var e=$(this).children(".note-text");$(this).toggle($(e).text().toLowerCase().indexOf(t)>-1)}))}))})),o("#note_inp").on("input",(function(){r(o("#note_inp").val())?o("#note_btn").prop("disabled",!1):o("#note_btn").prop("disabled",!0)}))},9314:function(t,e,n){"use strict";n.r(e)},636:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=636,t.exports=e},5574:function(t,e,n){var o={"./style.scss":9314};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=5574}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.m=e,t=[],o.O=function(e,n,r,i){if(!n){var a=1/0;for(f=0;f<t.length;f++){n=t[f][0],r=t[f][1],i=t[f][2];for(var c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[u])}))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){t.splice(f--,1);var s=r();void 0!==s&&(e=s)}}return e}i=i||0;for(var f=t.length;f>0&&t[f-1][2]>i;f--)t[f]=t[f-1];t[f]=[n,r,i]},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={179:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,a=n[0],c=n[1],u=n[2],s=0;if(a.some((function(e){return 0!==t[e]}))){for(r in c)o.o(c,r)&&(o.m[r]=c[r]);if(u)var f=u(o)}for(e&&e(n);s<a.length;s++)i=a[s],o.o(t,i)&&t[i]&&t[i][0](),t[a[s]]=0;return o.O(f)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),o.O(void 0,[453],(function(){return o(1202)}));var r=o.O(void 0,[453],(function(){return o(2331)}));r=o.O(r)}();