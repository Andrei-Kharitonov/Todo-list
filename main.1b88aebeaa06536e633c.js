!function(){var t,e={2331:function(t,e,n){"use strict";var o=n(5638);function r(t){if(t.length>=4)return!0}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var u="https://todo-list-708ef-default-rtdb.europe-west1.firebasedatabase.app/",l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,n=null,r=[{key:"create",value:function(t){return fetch(u+"notes.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}}).then((function(t){return t.json()})).then((function(e){return t.id=e.name,t})).then(f).then(o(".note").remove())}},{key:"fetch",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return t?fetch(u+"notes.json?auth=".concat(t)).then((function(t){return t.json()})).then((function(t){return t.error?'<p class="error">'.concat(t.error,"</p>"):t?Object.keys(t).map((function(e){return c(c({},t[e]),{},{id:e})})):[]})):Promise.resolve('<p class="error">You don\'t have token</p>')}))},{key:"delete",value:function(){o(".btn-del-note").on("click",(function(){var t=o(this).parent().attr("id");if(confirm("Delete this note?")){o("#".concat(t)).hide(200),setTimeout((function(){o("#".concat(t)).remove()}),200);var e=p().filter((function(e){return e.id!==t}));localStorage.setItem("notes",JSON.stringify(e)),fetch(u+"notes/".concat(t,".json"),{method:"DELETE",headers:{"Content-type":"application/json"}})}}))}},{key:"completed",value:function(){o(".btn-completed").on("click",(function(){o(this).attr("disabled",!0);var t=o(this).parent().attr("id"),e=p(),n=e.filter((function(e){return e.id!==t}));localStorage.setItem("notes",JSON.stringify(n));var r=e.find((function(e){return e.id===t}));r.completed=!0,f(r),fetch(u+"notes/".concat(t,"/completed.json"),{method:"PUT",body:JSON.stringify("true"),headers:{"Content-type":"application/json"}}).then((function(){location.reload()}))}))}},{key:"renderList",value:function(){var t=p(),e=t.length?t.map(d).join(""):'<div class="no-notes">You don\'t have notes</div>',n=o("#list");o(n).prepend(e)}}],n&&s(e.prototype,n),r&&s(e,r),t}();function f(t){var e=p();e.unshift(t),localStorage.setItem("notes",JSON.stringify(e))}function p(){return JSON.parse(localStorage.getItem("notes")||"[]")}function d(t){return t.completed?'\n    <div class="note" id="'.concat(t.id,'" style="border: 1px solid green; opacity: 0.5;">\n      <p class="note-text">').concat(t.text,'</p>\n      <p class="date">Date: <time>').concat(new Date(t.date).toLocaleString(),'</time></p>\n      <p class="status" style="color: green;">Status: completed</p>\n      <button class="btn btn-completed btn-outline-success btn-sm" type="button" disabled>Completed</button>\n      <button class="btn btn-del-note btn-outline-danger btn-sm" type="button">Delete note</button>\n    </div>'):'\n    <div class="note" id="'.concat(t.id,'">\n      <p class="note-text">').concat(t.text,'</p>\n      <p class="date">Date: <time>').concat(new Date(t.date).toLocaleString(),'</time></p>\n      <p class="status" style="color: darkblue">Status: in process</p>\n      <button class="btn btn-completed btn-outline-success btn-sm" type="button">Completed</button>\n      <button class="btn btn-del-note btn-outline-danger btn-sm" type="button">Delete note</button>\n    </div>')}function b(t){"string"!=typeof t&&(localStorage.clear(),t.forEach(f),location.reload())}n(636),n(5574),window.addEventListener("load",l.renderList),o(window).on("load",l.delete),o(window).on("load",l.completed),o("#form_note").on("submit",(function(t){if(t.preventDefault(),r(o("#note_inp").val())){o("#note_btn").prop("disabled",!1);var e={text:o("#note_inp").val(),date:(new Date).toJSON(),completed:!1};l.create(e).then((function(){o("#note_inp").val(""),o("#note_btn").prop("disabled",!0),location.reload()}))}})),o("#auth").on("submit",(function(t){t.preventDefault(),(e=o("#email").val(),n=o("#pwd").val(),fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyD70PfAh2YjIzyKpwZACN2Hi7M5hoHvG_0"),{method:"POST",body:JSON.stringify({email:e,password:n,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return t.idToken}))).then(l.fetch).then(b);var e,n})),o("#sortButton").on("click",(function(){var t=JSON.parse(localStorage.getItem("notes")||"[]"),e=[];t.forEach((function(t){e.unshift(t)})),localStorage.setItem("notes",JSON.stringify(e)),location.reload()})),o("#search").on("input",(function(){$("#search").on("keyup",(function(){var t=$(this).val().toLowerCase();$("#list .note").filter((function(){var e=$(this).children(".note-text");$(this).toggle($(e).text().toLowerCase().indexOf(t)>-1)}))}))})),o("#note_inp").on("input",(function(){r(o("#note_inp").val())?o("#note_btn").prop("disabled",!1):o("#note_btn").prop("disabled",!0)}))},9314:function(t,e,n){"use strict";n.r(e)},636:function(t){function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=636,t.exports=e},5574:function(t,e,n){var o={"./style.scss":9314};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=5574}},n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var i=n[t]={exports:{}};return e[t].call(i.exports,i,i.exports,o),i.exports}o.m=e,t=[],o.O=function(e,n,r,i){if(!n){var c=1/0;for(l=0;l<t.length;l++){n=t[l][0],r=t[l][1],i=t[l][2];for(var a=!0,s=0;s<n.length;s++)(!1&i||c>=i)&&Object.keys(o.O).every((function(t){return o.O[t](n[s])}))?n.splice(s--,1):(a=!1,i<c&&(c=i));if(a){t.splice(l--,1);var u=r();void 0!==u&&(e=u)}}return e}i=i||0;for(var l=t.length;l>0&&t[l-1][2]>i;l--)t[l]=t[l-1];t[l]=[n,r,i]},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={179:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,i,c=n[0],a=n[1],s=n[2],u=0;if(c.some((function(e){return 0!==t[e]}))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(s)var l=s(o)}for(e&&e(n);u<c.length;u++)i=c[u],o.o(t,i)&&t[i]&&t[i][0](),t[c[u]]=0;return o.O(l)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),o.O(void 0,[453],(function(){return o(1202)}));var r=o.O(void 0,[453],(function(){return o(2331)}));r=o.O(r)}();